log4j.rootLogger=INFO,console

# Avoid deadlock on appender start
log4j.logger.cloudera.shaded.org.apache.kafka=INFO
log4j.additivity.cloudera.shaded.org.apache.kafka=false


log4j.appender.kafka=org.apache.kafka.log4jappender.KafkaLog4jAppender
log4j.appender.kafka.topic=flink.logs

log4j.appender.kafka.brokerList=${env:KAFKA_BOOTSTRAP}

log4j.appender.kafka.layout=net.logstash.log4j.JSONEventLayoutV1
log4j.appender.kafka.layout.UserFields=yarnContainerId:${yarnContainerId}
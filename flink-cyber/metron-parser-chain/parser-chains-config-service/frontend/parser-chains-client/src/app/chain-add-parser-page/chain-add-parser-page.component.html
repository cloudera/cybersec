<!--
  ~ Copyright 2020 - 2022 Cloudera. All Rights Reserved.
  ~
  ~ This file is licensed under the Apache License Version 2.0 (the "License"). You may not use this file
  ~ except in compliance with the License. You may obtain a copy of the License at
  ~ http://www.apache.org/licenses/LICENSE-2.0.
  ~
  ~ This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
  ~ either express or implied. Refer to the License for the specific permissions and
  ~ limitations governing your use of the file.
  -->

<nz-card nzTitle="Add New Parser">
    <form nz-form [formGroup]="addParserForm" class="login-form" (ngSubmit)="addParser()">
        <nz-form-item>
          <nz-form-label>Parser Name</nz-form-label>
          <nz-form-control nzErrorTip="Parser Name is Required with atleast 3 characters">
            <input type="text" nz-input formControlName="name" placeholder="Parser Name" />
          </nz-form-control>

        </nz-form-item>
        <nz-form-item>
          <nz-form-control nzErrorTip="Select Parser Type">
            <nz-select nzShowSearch nzAllowClear formControlName="type" nzPlaceHolder="Select Type">
              <nz-option nzLabel="{{ type.name }}" nzValue="{{ type.id }}" *ngFor="let type of typesList"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="parsersList.length">
          <nz-form-control>
            <nz-select nzShowSearch nzAllowClear formControlName="parentId" nzPlaceHolder="Select Source Parser">
              <nz-option nzLabel="{{ parser.name }}" nzValue="{{ parser.id }}" *ngFor="let parser of parsersList"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <button nz-button nzType="primary" type="submit" [disabled] = "!addParserForm.valid">Add Parser</button>
          </nz-form-control>
        </nz-form-item>
      </form>
</nz-card>
